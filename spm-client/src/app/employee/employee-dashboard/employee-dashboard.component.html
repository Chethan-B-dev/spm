<link
  rel="stylesheet"
  href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
/>

<p class="mx-3 my-2">
  <mat-toolbar>
    <span>{{ currentUser.username }} Dashboard</span>
  </mat-toolbar>
</p>

<ng-container *ngIf="projects$ | async as projects">
  <div class="container-fluid">
    <app-project-card
      *ngFor="let project of projects"
      [project]="project"
    ></app-project-card>
    <div class="center my-3">
      <button
        *ngIf="loadMoreProjects$ | async"
        mat-button
        color="accent"
        class="content-center"
        (click)="loadMoreProjects()"
      >
        Load More <mat-icon>arrow_downward</mat-icon>
      </button>
    </div>
    <mat-card *ngIf="projects?.length === 0"
      >You have not been assigned to any projects yet</mat-card
    >
  </div>
</ng-container>

<div class="container" *ngIf="errors.length">
  <div class="alert alert-danger" role="alert" *ngFor="let error of errors">
    {{ error }}
  </div>
</div>

<div class="center loading-screen" *ngIf="isLoading$ | async">
  <app-loading-spinner></app-loading-spinner>
</div>
