<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
  crossorigin="anonymous"
/>

<div class="row row-height" *ngIf="projects$ | async as projects">
  <!-- project cards -->

  <div class="col-md-9 border-right">
    <div class="container my-3">
      <h4 class="py-2">Projects</h4>

      <app-project-card
        *ngFor="let project of projects"
        appSpacing
        [margin]="100"
        [padding]="10"
        [project]="project"
      ></app-project-card>
    </div>
  </div>
  <!-- stats -->

  <!-- TODO: toggle button to change status to inprogress for a task-->

  <div class="col-md-3 users">
    <div class="stats container my-3">
      <h4 class="mb-2">Verified Employees</h4>
      <!-- <mat-list role="list" *ngIf="users$ | async as users">
        <mat-list-item matRipple role="listitem" *ngFor="let user of users">{{
          user.username + " : " + ((user.designation | titlecase) || "")
        }}</mat-list-item>
      </mat-list> -->
      <ng-container *ngIf="users$ | async as users">
        <mat-chip-list *ngFor="let user of users">
          <mat-chip color="primary" class="my-2">
            <mat-chip-avatar>
              <mat-icon>person</mat-icon>
            </mat-chip-avatar>
            {{ user.username }}
          </mat-chip>
        </mat-chip-list>
      </ng-container>
      <!-- <a routerLink="/project-detail">click me</a> -->

      <div class="center my-3" *ngIf="loadMore$ | async">
        <button
          mat-button
          color="accent"
          class="content-center"
          (click)="getMoreUsers()"
        >
          Load More <mat-icon>arrow_downward</mat-icon>
        </button>
      </div>
    </div>
  </div>
</div>

<div class="center loading-screen" *ngIf="isLoading$ | async">
  <app-loading-spinner></app-loading-spinner>
</div>
